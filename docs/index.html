<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Produce Forest Plots to Visualize Covariate Effects • coveffectsplot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Produce Forest Plots to Visualize Covariate Effects">
<meta property="og:description" content="Produce forest plots to visualize covariate effects using either
    the command line or an interactive Shiny application.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">coveffectsplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Introduction_to_coveffectsplot.html">Introduction to coveffectsplot</a>
    </li>
    <li>
      <a href="articles/Exposure_Response_Example.html">Exposure-Response Example</a>
    </li>
    <li>
      <a href="articles/PK_Example.html">PK Example</a>
    </li>
    <li>
      <a href="articles/PK_Example_full.html">PK Example Full</a>
    </li>
    <li>
      <a href="articles/Pediatric_Cov_Sim.html">PK Pediatric Example</a>
    </li>
    <li>
      <a href="articles/PKPD_Example.html">PKPD Example</a>
    </li>
  </ul>
</li>
<li>
  <a href="articles/app.html">Shiny App</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/smouksassi/coveffectsplot/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="coveffectsplot-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#coveffectsplot-" class="anchor"></a>coveffectsplot <img src="articles/img/logo_coveffectsplot.png" align="right" height="200">
</h1></div>
<!-- badges: start -->

<p>A package that provides the function <code>forest_plot</code>and an accompanying Shiny App that facilitates the production of forest plots to visualize covariate effects as commonly used in pharmacometrics population PK/PD reports.</p>
<div id="publication" class="section level4">
<h4 class="hasAnchor">
<a href="#publication" class="anchor"></a>Publication:</h4>
<p><a href="https://ascpt.onlinelibrary.wiley.com/doi/abs/10.1002/psp4.12829">Tutorial: Evaluation of Covariate Effects using Forest Plots and Introduction to the <code>coveffectsplot</code> R package</a></p>
</div>
<div id="installation-and-running-information" class="section level3">
<h3 class="hasAnchor">
<a href="#installation-and-running-information" class="anchor"></a>Installation and Running information</h3>
<pre><code># Install from CRAN:
install.packages("coveffectsplot")
# Or the development version from GitHub:
#install.packages("devtools")
devtools::install_github('smouksassi/coveffectsplot')</code></pre>
<p>Launch the app using this command then press the use sample data blue text to load the app with a demo data:</p>
<pre><code><a href="reference/run_interactiveforestplot.html">coveffectsplot::run_interactiveforestplot()</a></code></pre>
<p>This will generate this plot: <img src="articles/img/snapshotforest.png" alt="example plot with the included dataset"></p>
</div>
<div id="expected-data" class="section level3">
<h3 class="hasAnchor">
<a href="#expected-data" class="anchor"></a>Expected data</h3>
<p>Several example data are provided to illustrate the various functionality but the goal is that you simulate, compute and bring your own data. The app will help you, using point and click interactions, to design a plot that communicates your model covariate effects. The data that is loaded to the app should have at a minimum the following columns with the exact names:</p>
<ul>
<li>paramname: Parameter on which the effects are shown e.g. CL, Cmax, AUC etc.<br>
</li>
<li>covname: Covariate name that the effects belong to e.g. Weight, SEX, Dose etc.<br>
</li>
<li>label: Covariate value that the effects of which is shown e.g. 50 kg, 50 kg\90 kg (here the reference value is contained in the label).<br>
</li>
<li>mid: Middle value for the effects usually the median from the uncertainty distribution.<br>
</li>
<li>lower: Lower value for the effects usually the 2.5% or 5% from the uncertainty distribution.<br>
</li>
<li>upper: Upper value for the effects usually the 97.5% or 95% from the uncertainty distribution.</li>
</ul>
<p>You might also choose to have a covname with value All (or other appropriate value) to illustrate and show the uncertainty on the reference value in a separate facet.</p>
<p>Additionally, you might want to have a covname with value BSV to illustrate and show the the between subject variability (BSV) spread.</p>
<p>The example data show where does 90 and 50% of the patients will be based on the model BSV estimate for the selected paramname(s).</p>
<p><img src="articles/img/snapshottable.png" alt="data example"></p>
<p>The vignette <a href="https://cran.r-project.org/package=coveffectsplot/vignettes/introduction_to_coveffectsplot.html">Introduction to coveffectsplot</a> will walk you through the background and how to compute and build the required data that the shiny app or the function <code>forest_plot</code>expects. There is some data management steps that the app does automatically. Choosing to call the function will require you to build the table LABEL and to control the ordering of the variables. The <code>forest_plot</code> help has several examples.<br>
The package also include vignettes with several step-by-step detailed examples:</p>
<p><a href="https://cran.r-project.org/package=coveffectsplot/vignettes/PK_Example.html">PK example</a><br><a href="https://cran.r-project.org/package=coveffectsplot/vignettes/Pediatric_Cov_Sim.html">Pediatric example</a><br><a href="https://cran.r-project.org/package=coveffectsplot/vignettes/PKPD_Example.html">PK PD example</a><br><a href="https://cran.r-project.org/package=coveffectsplot/vignettes/Exposure_Response_Example.html">Exposure Response</a></p>
</div>
<div id="example-using-a-real-drug-label-data" class="section level3">
<h3 class="hasAnchor">
<a href="#example-using-a-real-drug-label-data" class="anchor"></a>Example using a real drug label data</h3>
<p>The prezista drug label data was extracted from the FDA label and calling the <code>forest_plot</code> function gives:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/smouksassi/coveffectsplot">coveffectsplot</a></span><span class="op">)</span>
<span class="va">plotdata</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="va">prezista</span>,
          LABEL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">mid</span>,<span class="fl">2</span><span class="op">)</span>, nsmall <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,
                         <span class="st">" ["</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">lower</span>,<span class="fl">2</span><span class="op">)</span>, nsmall <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, <span class="st">"-"</span>,
                         <span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">upper</span>,<span class="fl">2</span><span class="op">)</span>, nsmall <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, <span class="st">"]"</span><span class="op">)</span><span class="op">)</span>
<span class="va">plotdata</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">plotdata</span><span class="op">)</span>
<span class="va">plotdata</span><span class="op">&lt;-</span> <span class="va">plotdata</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"paramname"</span>,<span class="st">"covname"</span>,<span class="st">"label"</span>,<span class="st">"mid"</span>,<span class="st">"lower"</span>,<span class="st">"upper"</span>,<span class="st">"LABEL"</span><span class="op">)</span><span class="op">]</span>
<span class="va">plotdata</span><span class="op">$</span><span class="va">covname</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">plotdata</span><span class="op">$</span><span class="va">covname</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">plotdata</span><span class="op">$</span><span class="va">covname</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="st">"Other\nAntiretrovirals"</span>,<span class="st">"Protease\nInihibitors"</span><span class="op">)</span>

<span class="co">#png("prezista.png",width =12 ,height = 8,units = "in",res=72,type="cairo-png")</span>
<span class="fu">coveffectsplot</span><span class="fu">::</span><span class="fu"><a href="reference/forest_plot.html">forest_plot</a></span><span class="op">(</span><span class="va">plotdata</span>,
            ref_area <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.5</span><span class="op">)</span>,
            base_size <span class="op">=</span> <span class="fl">16</span> ,
            x_facet_text_size <span class="op">=</span> <span class="fl">13</span>,
            y_facet_text_size <span class="op">=</span> <span class="fl">16</span>,
            y_facet_text_angle <span class="op">=</span> <span class="fl">270</span>,
            interval_legend_text <span class="op">=</span> <span class="st">"Median (points)\n90% CI (horizontal lines)"</span>,
            ref_legend_text <span class="op">=</span> <span class="st">"Reference (vertical line)\n+/- 50% (gray area)"</span>,
            area_legend_text <span class="op">=</span> <span class="st">"Reference (vertical line)\n+/- 50% (gray area)"</span>,
            xlabel <span class="op">=</span> <span class="st">"Median 90%CI Fold Change Relative to Parameter"</span>,
            facet_formula <span class="op">=</span> <span class="st">"covname~."</span>,
            facet_switch <span class="op">=</span> <span class="st">"both"</span>,
            facet_scales <span class="op">=</span> <span class="st">"free"</span>,
            facet_space <span class="op">=</span> <span class="st">"free"</span>,
            strip_placement <span class="op">=</span> <span class="st">"outside"</span>, 
            paramname_shape <span class="op">=</span> <span class="cn">TRUE</span>,
            table_position <span class="op">=</span> <span class="st">"right"</span>,
            table_text_size <span class="op">=</span> <span class="fl">4</span>,
            plot_table_ratio <span class="op">=</span> <span class="fl">4</span>,
            vertical_dodge_height <span class="op">=</span> <span class="fl">0.8</span>,
            legend_space_x_mult <span class="op">=</span> <span class="fl">0.1</span>,
            legend_order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"shape"</span>,<span class="st">"pointinterval"</span>,<span class="st">"ref"</span>, <span class="st">"area"</span><span class="op">)</span>,
            legend_shape_reverse <span class="op">=</span> <span class="cn">TRUE</span>,
            show_table_facet_strip <span class="op">=</span> <span class="st">"none"</span>,
            return_list <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#dev.off()</span></code></pre></div>
<p><img src="articles/img/prezista.png" alt="example plot with the prezista dataset"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=coveffectsplot">https://​cloud.r-project.org/​package=coveffectsplot</a>
</li>
<li>Browse source code at <br><a href="https://github.com/smouksassi/coveffectsplot/">https://​github.com/​smouksassi/​coveffectsplot/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/smouksassi/coveffectsplot/issues">https://​github.com/​smouksassi/​coveffectsplot/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Samer Mouksassi <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0002-7152-6654" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=coveffectsplot"><img src="https://www.r-pkg.org/badges/version-last-release/coveffectsplot" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/smouksassi/coveffectsplot/actions"><img src="https://github.com/smouksassi/coveffectsplot/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=coveffectsplot"><img src="https://cranlogs.r-pkg.org/badges/coveffectsplot" alt="MonthlyDOWNLOADS"></a></li>
<li><a href="https://CRAN.R-project.org/package=coveffectsplot"><img src="https://cranlogs.r-pkg.org/badges/grand-total/coveffectsplot" alt="DOWNLOADS"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Samer Mouksassi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
